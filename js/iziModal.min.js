/*
* iziModal | v1.3.0
* http://izimodal.marcelodolce.com
* by Marcelo Dolce.
*/
(function(a){"use strict";function f(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}var b=a(window),c=a(document),d="iziModal",e={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened",DESTROYED:"destroyed"},g=f(),h=!!/Mobi/.test(navigator.userAgent),i=0,j=function(a,b){this.init(a,b)};j.prototype={constructor:j,init:function(b,c){var f=this;this.$element=a(b),this.id=this.$element.attr("id"),this.content=this.$element.html(),this.state=e.CLOSED,this.options=c,this.width=0,this.timer=null,this.timerTimeout=null,this.progressBar=null,this.isPaused=!1,this.isFullscreen=!1,this.headerHeight=0,this.modalHeight=0,this.$overlay=a('<div class="'+d+'-overlay" style="background-color:'+c.overlayColor+'"></div>'),this.$navigate=a('<div class="'+d+'-navigate"><div class="'+d+'-navigate-caption">Use</div><button class="'+d+'-navigate-prev"></button><button class="'+d+'-navigate-next"></button></div>'),this.group={name:this.$element.attr("data-"+d+"-group"),index:null,ids:[]},void 0!==this.$element.attr("data-"+d+"-title")&&(c.title=this.$element.attr("data-"+d+"-title")),void 0!==this.$element.attr("data-"+d+"-subtitle")&&(c.subtitle=this.$element.attr("data-"+d+"-subtitle")),void 0!==this.$element.attr("data-"+d+"-icon")&&(c.icon=this.$element.attr("data-"+d+"-icon")),this.options.loop===!0&&this.$element.attr("data-"+d+"-loop",!0),this.$header=a('<div class="'+d+'-header"><h2 class="'+d+'-header-title">'+c.title+'</h2><p class="'+d+'-header-subtitle">'+c.subtitle+'</p><a href="javascript:void(0)" class="'+d+"-button "+d+'-button-close" data-'+d+"-close></a></div>"),c.fullscreen===!0&&(this.$header.append('<a href="javascript:void(0)" class="'+d+"-button "+d+'-button-fullscreen" data-'+d+"-fullscreen></a>"),this.$header.css("padding-right","76px")),c.timeoutProgressbar!==!0||isNaN(parseInt(c.timeout))||c.timeout===!1||0===c.timeout||this.$header.prepend('<div class="'+d+'-progressbar"><div style="background-color:'+c.timeoutProgressbarColor+'"></div></div>'),c.iframe===!0?(this.$element.html('<div class="'+d+'-wrap"><div class="'+d+'-content"><iframe class="'+d+'-iframe"></iframe>'+this.content+"</div></div>"),null!==c.iframeHeight&&this.$element.find("."+d+"-iframe").css("height",c.iframeHeight)):this.$element.html('<div class="'+d+'-wrap"><div class="'+d+'-content">'+this.content+"</div></div>"),""===c.subtitle&&this.$header.addClass(d+"-noSubtitle"),""===c.title&&""===c.subtitle||(null!==c.headerColor&&(this.$element.css("border-bottom","3px solid "+c.headerColor),this.$header.css("background",this.options.headerColor)),null!==c.icon&&(this.$header.prepend('<i class="'+d+"-header-icon "+c.icon+'"></i>'),this.$header.find("."+d+"-header-icon").css("color",c.iconColor)),this.$element.css("overflow","hidden").prepend(this.$header)),null===c.zindex||isNaN(parseInt(c.zindex))||(this.$element.css("z-index",c.zindex),this.$navigate.css("z-index",c.zindex-1),this.$overlay.css("z-index",c.zindex-2)),""!==c.radius&&this.$element.css("border-radius",c.radius),""!==c.padding&&this.$element.find("."+d+"-content").css("padding",c.padding),""!==c.theme&&this.$element.addClass(c.theme),this.$element.addClass(d),c.openFullscreen===!0&&(this.isFullscreen=!0,this.$element.addClass("isFullscreen")),"top"!==c.attached&&"top"!=this.$element.attr("data-"+d+"-attached")||this.$element.addClass("isAttachedTop"),"bottom"!==c.attached&&"bottom"!=this.$element.attr("data-"+d+"-attached")||this.$element.addClass("isAttachedBottom"),function(){a(document.body).find("style[rel="+f.id+"]").remove();var e=/%|px|em|cm/,g=String(c.width).split(e),h=String(c.width),i="px";g=String(g).split(",")[0],isNaN(c.width)&&(i=String(c.width).indexOf("%")!=-1?"%":h.slice("-2")),f.$element.css({"margin-left":-(g/2)+i,"max-width":parseInt(g)+i}),f.mediaQueries='<style rel="'+f.id+'">@media handheld, only screen and (max-width: '+g+"px) { #"+f.id+"{ width: 100% !important; max-width: 100% !important; margin-left: 0 !important; left: 0 !important; border-radius:0!important} #"+f.id+" ."+d+"-header{border-radius:0!important} }</style>",f.width=g,a(document.body).append(f.mediaQueries),f.$element.css("margin-top",parseInt(-(f.$element.innerHeight()/2))+"px")}(),function(){if(void 0!==f.$element.attr("data-"+d+"-group")){var c=0;a.each(a("."+d+"[data-"+d+"-group="+f.group.name+"]"),function(b,d){f.group.ids.push(a(this).attr("id")),f.id==a(this).attr("id")&&(f.group.index=c),c++})}}()},toggle:function(){this.state==e.OPENED&&this.close(),this.state==e.CLOSED&&this.open()},open:function(b){function i(){f.$element.trigger(e.OPENED),f.state=e.OPENED,f.options.onOpened&&"function"==typeof f.options.onOpened&&f.options.onOpened(f)}function j(){f.$element.off("click","[data-"+d+"-close]").on("click","[data-"+d+"-close]",function(b){b.preventDefault();var c=a(b.currentTarget).attr("data-"+d+"-transitionOut");void 0!==c?f.close({transition:c}):f.close()}),f.$element.off("click","[data-"+d+"-fullscreen]").on("click","[data-"+d+"-fullscreen]",function(a){a.preventDefault(),f.isFullscreen===!0?(f.isFullscreen=!1,f.$element.removeClass("isFullscreen")):(f.isFullscreen=!0,f.$element.addClass("isFullscreen")),f.options.onFullscreen&&"function"==typeof f.options.onFullscreen&&f.options.onFullscreen(f),f.$element.trigger("fullscreen",f)}),f.$navigate.off("click","."+d+"-navigate-next").on("click","."+d+"-navigate-next",function(a){f.next(a)}),f.$element.off("click","[data-"+d+"-next]").on("click","[data-"+d+"-next]",function(a){f.next(a)}),f.$navigate.off("click","."+d+"-navigate-prev").on("click","."+d+"-navigate-prev",function(a){f.prev(a)}),f.$element.off("click","[data-"+d+"-prev]").on("click","[data-"+d+"-prev]",function(a){f.prev(a)})}var f=this;if(this.state==e.CLOSED){if(j(),this.$element.trigger(e.OPENING),this.state=e.OPENING,this.options.iframe===!0){this.$element.find("."+d+"-content").addClass(d+"-content-loader"),this.$element.find("."+d+"-iframe").on("load",function(){a(this).parent().removeClass(d+"-content-loader")});var k=null;if(null!==this.options.iframeURL)k=this.options.iframeURL;else try{k=b.target.href,void 0!==k&&(k=b.target.href)}catch(a){console.warn(a)}this.$element.find("."+d+"-iframe").attr("src",k)}(this.options.bodyOverflow||h)&&a(document.body).css("overflow","hidden"),f.options.onOpening&&"function"==typeof f.options.onOpening&&f.options.onOpening(this),function(){if(f.group.ids.length>1){f.$navigate.appendTo("body"),f.$navigate.addClass(f.options.transitionInOverlay),f.options.navigateCaption===!0&&f.$navigate.find("."+d+"-navigate-caption").show(),f.options.navigateArrows===!0||"closeToModal"===f.options.navigateArrows?(f.$navigate.find("."+d+"-navigate-prev").css("margin-left",-(f.width/2+84)),f.$navigate.find("."+d+"-navigate-next").css("margin-right",-(f.width/2+84))):(f.$navigate.find("."+d+"-navigate-prev").css("left",0),f.$navigate.find("."+d+"-navigate-next").css("right",0));var e;0===f.group.index&&(e=a("."+d+"[data-"+d+'-group="'+f.group.name+'"][data-'+d+"-loop]").length,0===e&&f.options.loop===!1&&f.$navigate.find("."+d+"-navigate-prev").hide()),f.group.index+1===f.group.ids.length&&(e=a("."+d+"[data-"+d+'-group="'+f.group.name+'"][data-'+d+"-loop]").length,0===e&&f.options.loop===!1&&f.$navigate.find("."+d+"-navigate-next").hide())}f.options.overlay===!0&&f.$overlay.appendTo("body"),f.options.transitionInOverlay&&f.$overlay.addClass(f.options.transitionInOverlay);var h=f.options.transitionIn;"object"==typeof b&&(void 0===b.transition&&void 0===b.transitionIn||(h=b.transition||b.transitionIn)),""!==h?(f.$element.addClass("transitionIn "+h).show(),f.$element.find("."+d+"-wrap").one(g,function(){f.$element.removeClass(h+" transitionIn"),f.$overlay.removeClass(f.options.transitionInOverlay),f.$navigate.removeClass(f.options.transitionInOverlay),i()})):(f.$element.show(),i()),f.options.pauseOnHover!==!0||f.options.pauseOnHover!==!0||f.options.timeout===!1||isNaN(parseInt(f.options.timeout))||f.options.timeout===!1||0===f.options.timeout||(f.$element.off("mouseenter").on("mouseenter",function(a){a.preventDefault(),f.isPaused=!0}),f.$element.off("mouseleave").on("mouseleave",function(a){a.preventDefault(),f.isPaused=!1}))}(),this.options.timeout===!1||isNaN(parseInt(this.options.timeout))||this.options.timeout===!1||0===this.options.timeout||(this.options.timeoutProgressbar===!0?(this.progressBar={hideEta:null,maxHideTime:null,currentTime:(new Date).getTime(),el:this.$element.find("."+d+"-progressbar > div"),updateProgress:function(){if(!f.isPaused){f.progressBar.currentTime=f.progressBar.currentTime+10;var a=(f.progressBar.hideEta-f.progressBar.currentTime)/f.progressBar.maxHideTime*100;f.progressBar.el.width(a+"%"),a<0&&f.close()}}},this.options.timeout>0&&(this.progressBar.maxHideTime=parseFloat(this.options.timeout),this.progressBar.hideEta=(new Date).getTime()+this.progressBar.maxHideTime,this.timerTimeout=setInterval(this.progressBar.updateProgress,10))):this.timerTimeout=setTimeout(function(){f.close()},f.options.timeout)),this.options.overlayClose&&!this.$element.hasClass(this.options.transitionOut)&&this.$overlay.click(function(){f.close()}),this.options.focusInput&&this.$element.find(":input:not(button):enabled:visible:first").focus(),function a(){f.recalculateLayout(),f.timer=setTimeout(a,300)}(),function(){if(f.options.history||h){var b=document.title;document.title=b+" - "+f.options.title,document.location.hash=f.id,document.title=b}}(),c.keydown(function(a){f.options.closeOnEscape&&27===a.keyCode&&f.close()})}},close:function(b){function i(){f.options.iframe===!0&&f.$element.find("."+d+"-iframe").attr("src",""),(f.options.bodyOverflow||h)&&a(document.body).css("overflow","initial"),a(document.body).removeClass(d+"-attached"),f.$element.trigger(e.CLOSED),f.state=e.CLOSED,f.options.onClosed&&"function"==typeof f.options.onClosed&&f.options.onClosed(f),f.options.restoreDefaultContent===!0&&f.$element.find("."+d+"-content").html(f.content)}var f=this;if(this.state==e.OPENED||this.state==e.OPENING){c.off("keydown"),this.state=e.CLOSING,this.$element.trigger(e.CLOSING),clearTimeout(this.timer),clearTimeout(this.timerTimeout),f.options.onClosing&&"function"==typeof f.options.onClosing&&f.options.onClosing(this);var j=this.options.transitionOut;"object"==typeof b&&(void 0===b.transition&&void 0===b.transitionOut||(j=b.transition||b.transitionOut)),""!==j?(this.$element.attr("class",d+" transitionOut "+j+" "+this.options.theme+" "+String(this.isFullscreen===!0?"isFullscreen":"")+" "+String("top"===this.options.attached?"isAttachedTop":"")+" "+String("bottom"===this.options.attached?"isAttachedBottom":"")),this.$overlay.attr("class",d+"-overlay "+this.options.transitionOutOverlay),this.$navigate.attr("class",d+"-navigate "+this.options.transitionOutOverlay),this.$element.one(g,function(){f.$element.hasClass(j)&&f.$element.removeClass(j+" transitionOut").hide(),f.$overlay.removeClass(f.options.transitionOutOverlay).remove(),f.$navigate.removeClass(f.options.transitionOutOverlay).remove(),i()})):(this.$element.hide(),this.$overlay.remove(),this.$navigate.remove(),i())}},next:function(b){var c=this,e="fadeInRight",f="fadeOutLeft",g=a("."+d+":visible"),h={};h.out=this,void 0!==b&&"object"!=typeof b?(b.preventDefault(),g=a(b.currentTarget),e=g.attr("data-"+d+"-transitionIn"),f=g.attr("data-"+d+"-transitionOut")):void 0!==b&&(void 0!==b.transitionIn&&(e=b.transitionIn),void 0!==b.transitionOut&&(f=b.transitionOut)),this.close({transition:f}),setTimeout(function(){var b=a("."+d+"[data-"+d+'-group="'+c.group.name+'"][data-'+d+"-loop]").length;(b>0||c.options.loop===!0)&&c.group.index+1===c.group.ids.length?(a("#"+c.group.ids[0]).iziModal("open",{transition:e}),h.in=a("#"+c.group.ids[0]).data().iziModal):c.group.index+1<c.group.ids.length&&(a("#"+c.group.ids[c.group.index+1]).iziModal("open",{transition:e}),h.in=a("#"+c.group.ids[c.group.index+1]).data().iziModal)},200),a(document).trigger(d+"-group-change",h)},prev:function(b){var c=this,e="fadeInLeft",f="fadeOutRight",g=a("."+d+":visible"),h={};h.out=this,void 0!==b&&"object"!=typeof b?(b.preventDefault(),g=a(b.currentTarget),e=g.attr("data-"+d+"-transitionIn"),f=g.attr("data-"+d+"-transitionOut")):void 0!==b&&(void 0!==b.transitionIn&&(e=b.transitionIn),void 0!==b.transitionOut&&(f=b.transitionOut)),this.close({transition:f}),setTimeout(function(){var b=a("."+d+"[data-"+d+'-group="'+c.group.name+'"][data-'+d+"-loop]").length;(b>0||c.options.loop===!0)&&0===c.group.index?(a("#"+c.group.ids[c.group.ids.length-1]).iziModal("open",{transition:e}),h.in=a("#"+c.group.ids[c.group.ids.length-1]).data().iziModal):c.group.index>0&&(a("#"+c.group.ids[c.group.index-1]).iziModal("open",{transition:e}),h.in=a("#"+c.group.ids[c.group.index-1]).data().iziModal)},200),a(document).trigger(d+"-group-change",h)},destroy:function(){var b=a.Event("destroy");this.$element.trigger(b),c.off("keydown"),clearTimeout(this.timer),clearTimeout(this.timerTimeout),this.options.iframe===!0&&this.$element.find("."+d+"-iframe").remove(),this.$element.html(this.$element.find("."+d+"-content").html()),c.find("style[rel="+this.id+"]").remove(),this.$element.off("click","[data-"+d+"-close]"),this.$element.off("click","[data-"+d+"-fullscreen]"),this.$element.off("."+d).removeData(d).attr("style",""),this.$overlay.remove(),this.$navigate.remove(),this.$element.trigger(e.DESTROYED),this.$element=null},getState:function(){return this.state},getGroup:function(){return this.group},setTitle:function(a){null!==this.options.title&&(this.$header.find("."+d+"-header-title").html(a),this.options.title=a)},setSubtitle:function(a){null!==this.options.subtitle&&(this.$header.find("."+d+"-header-subtitle").html(a),this.options.subtitle=a)},setIcon:function(a){null!==this.options.icon&&(this.$header.find("."+d+"-header-icon").attr("class",d+"-header-icon "+a),this.options.icon=a)},setHeaderColor:function(a){this.$element.css("border-bottom","3px solid "+a),this.$header.css("background",a),this.options.headerColor=a},setZindex:function(a){isNaN(parseInt(this.options.zindex))||(this.options.zindex=a,this.$element.css("z-index",a),this.$navigate.css("z-index",a-1),this.$overlay.css("z-index",a-2))},setTransitionIn:function(a){this.options.transitionIn=param.transition},setTransitionOut:function(a){this.options.transitionOut=param.transition},startLoading:function(){this.$element.find("."+d+"-loader").length||this.$element.append('<div class="'+d+"-loader "+this.options.transitionInOverlay+'"></div>')},stopLoading:function(){var a=this;this.$element.find("."+d+"-loader").removeClass(this.options.transitionInOverlay).addClass(this.options.transitionOutOverlay),this.$element.find("."+d+"-loader").one(g,function(){a.$element.find("."+d+"-loader").removeClass(a.options.transitionOutOverlay).remove()})},recalculateLayout:function(){this.$element.find("."+d+"-header").length&&(this.headerHeight=parseInt(this.$element.find("."+d+"-header").innerHeight())+2,this.$element.css("overflow","hidden"));var c=b.height(),f=this.$element.outerHeight(),g=this.$element.find("."+d+"-content")[0].scrollHeight,h=parseInt(-((this.$element.innerHeight()+1)/2))+"px";if(f!==this.modalHeight&&(this.modalHeight=f,this.options.onResize&&"function"==typeof this.options.onResize&&this.options.onResize(this)),this.state==e.OPENED||this.state==e.OPENING)if(this.options.iframe===!0)c<this.options.iframeHeight+this.headerHeight||this.isFullscreen===!0?(a(document.body).addClass(d+"-attached"),this.$element.find("."+d+"-iframe").css({height:parseInt(c-this.headerHeight)+"px"})):(a(document.body).removeClass(d+"-attached"),this.$element.find("."+d+"-iframe").css({height:parseInt(this.options.iframeHeight)+"px"}));else{c>g+this.headerHeight&&this.isFullscreen!==!0&&(a(document.body).removeClass(d+"-attached"),this.$element.find("."+d+"-wrap").css({height:"auto"})),(g+this.headerHeight>c||this.$element.innerHeight()<g||this.isFullscreen===!0)&&(a(document.body).hasClass(d+"-attached")||a(document.body).addClass(d+"-attached"),this.$element.find("."+d+"-wrap").css({height:parseInt(c-this.headerHeight)+"px"}));var i=this.$element.find("."+d+"-wrap").scrollTop(),j=this.$element.find("."+d+"-content").innerHeight(),k=this.$element.find("."+d+"-wrap").innerHeight();k+i<j-50?this.$element.addClass("hasScroll"):this.$element.removeClass("hasScroll")}this.$element.css("margin-top")!=h&&"0px"!=this.$element.css("margin-top")&&this.$element.css("margin-top",h)}},b.off("hashchange load").on("hashchange load",function(b){0===i?""!==document.location.hash?(a.each(a("."+d),function(b,c){var d=a(c).iziModal("getState");"opened"!=d&&"opening"!=d||"#"+a(c).attr("id")!==document.location.hash&&a(c).iziModal("close")}),setTimeout(function(){a(document.location.hash).iziModal("open")},200)):a.each(a("."+d),function(b,c){var d=a(c).iziModal("getState");"opened"!=d&&"opening"!=d||a(c).iziModal("close")}):i=0}),c.off("click","[data-"+d+"-open]").on("click","[data-"+d+"-open]",function(b){b.preventDefault();var c=a("."+d+":visible").attr("id"),e=a(b.currentTarget).attr("data-"+d+"-open"),f=a(b.currentTarget).attr("data-"+d+"-transitionIn"),g=a(b.currentTarget).attr("data-"+d+"-transitionOut");void 0!==g?a("#"+c).iziModal("close",{transition:g}):a("#"+c).iziModal("close"),setTimeout(function(){void 0!==f?a("#"+e).iziModal("open",{transition:f}):a("#"+e).iziModal("open")},200)}),c.off("keyup").on("keyup",function(b){var c=a("."+d+":visible").attr("id"),e=a("#"+c).iziModal("getGroup"),f=b||window.event,g=f.target||f.srcElement;void 0===c||void 0===e||f.ctrlKey||f.metaKey||f.altKey||"INPUT"===g.tagName.toUpperCase()||"TEXTAREA"==g.tagName.toUpperCase()||(37===f.keyCode?a("#"+c).iziModal("prev",f):39===f.keyCode&&a("#"+c).iziModal("next",f))}),a.fn[d]=function(b,c){var e=a(this),f=e.data(d),g=a.extend({},a.fn.iziModal.defaults,e.data(),"object"==typeof b&&b);if(f||b&&"object"!=typeof b){if("string"==typeof b&&"undefined"!=typeof f)return f[b].apply(f,[].concat(c))}else e.data(d,f=new j(this,g));return g.autoOpen&&(isNaN(parseInt(g.autoOpen))?g.autoOpen===!0&&f.open():setTimeout(function(){f.open()},g.autoOpen),i++),this},a.fn[d].defaults={title:"",subtitle:"",headerColor:"#88A0B9",theme:"",attached:"",icon:"",iconColor:"",width:600,padding:0,radius:3,zindex:999,iframe:!1,iframeHeight:400,iframeURL:null,focusInput:!0,group:"",loop:!1,navigateCaption:!0,navigateArrows:!0,history:!0,restoreDefaultContent:!1,autoOpen:0,bodyOverflow:!1,fullscreen:!1,openFullscreen:!1,closeOnEscape:!0,overlay:!0,overlayClose:!0,overlayColor:"rgba(0, 0, 0, 0.4)",timeout:!1,timeoutProgressbar:!1,pauseOnHover:!1,timeoutProgressbarColor:"rgba(255,255,255,0.5)",transitionIn:"comingIn",transitionOut:"comingOut",transitionInOverlay:"fadeIn",transitionOutOverlay:"fadeOut",onFullscreen:function(){},onResize:function(){},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},a.fn[d].Constructor=j}).call(this,window.jQuery);